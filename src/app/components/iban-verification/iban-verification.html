<wcs-header>
  <img slot="logo" alt="SNCF" src="/assets/logo.svg">
  <h1 slot="title">Vérifiez votre IBAN</h1>
</wcs-header>

<style>
  /* Conteneur principal sous le header */
  .page-container {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    margin-top: 9rem;
  }

  /* Ligne contenant le label, l’input et le bouton */
  .iban-row {
    display: flex;
    align-items: center;
    gap: 25px;
    flex-wrap: wrap;
  }

  wcs-form-field {
    display: flex;
    align-items: center;
    margin: 0;
  }

  label {
    margin-right: 8px;
    font-size: 16px;
    display: flex;
    align-items: center;
  }

  wcs-input {
    width: 350px;
    max-width: 90%;
  }

  wcs-button {
    height: 48px;
    position: relative;
    top: 3px;
  }

  /* Bloc message global réservé sous le bloc */
  .iban-message-container {
    height: 24px; /* ✅ réserve de l’espace fixe */
    margin-top: 10px;
    display: flex;
    justify-content: center;
  }

  .iban-message {
    font-size: 14px;
    text-align: center;
    transition: opacity 0.2s ease-in-out;
  }

  .iban-message.error { color: #c62828; }
  .iban-message.success { color: #2e7d32; }
</style>

<div class="page-container">
  <!-- Bloc input + bouton -->
  <div class="iban-row">
    <wcs-form-field [isError]="error">
      <label>Entrez votre IBAN :</label>
      <wcs-input
        type="text"
        [value]="iban"
        [maxlength]="maxLength"
        (wcsInput)="onIbanChange($event)"
        placeholder="FR7612345678901234567890123"
        required>
      </wcs-input>
    </wcs-form-field>

    <wcs-button (click)="verifyIban()" mode="stroked">Vérifier</wcs-button>
  </div>

  <!-- ✅ Message affiché sous le bloc, sans décaler l’input ni le bouton -->
  <div class="iban-message-container">
    <div *ngIf="message" class="iban-message" [class.error]="error" [class.success]="!error">
      {{ message }}
    </div>
  </div>
</div>
